/*! UX Rocket Factory 
 *  UX Rocket Plugin Factory 
 *  @author Bilal Çınarlı <bcinarli@gmail.com> (https://github.com/bcinarli) 
 *          Rameş Aliyev <ramesaliyev@gmail.com> (https://github.com/ramesaliyev)
 *  @version 1.0.0-alpha2 
 *  @build Fri Nov 13 2015 10:52:52 GMT+0200 (EET) 
 */
"use strict";!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"function"==typeof require?e(require("jquery")):e(jQuery,window)}(function(e,t){var n=function(){};t.UXRocket=t.uxr=e.uxrocket=n,console.warn("UX Rocket Factory is in alpha for now. Currently utils module is available")}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"function"==typeof require?e(require("jquery")):e(jQuery,window)}(function(e,t){var n=1,i=function(){};e.extend(i.prototype,{init:function(i,r,o){return this.options=e.extend(!0,{},this.defaults,r),this.el=i,this.$el=e(i),this.selector=o,this._instance=n,this.utils=new t.uxrPluginUtils({}),this},defaults:{onReady:!1},register:function(){},addClasses:function(){this.$el.addClass(this.utils.getClassname("ready"))},removeClasses:function(){this.$el.removeClass(this.utils.getClassname("ready"))},unBindUIActions:function(){this.$el.off("."+slug)},update:function(e){},destroy:function(){},cleanUp:function(){e("."+this.utils.getClassname("wrap")+"-"+this._instance).remove()}}),t.uxrPlugin=i}),function(e){"function"==typeof define&&define.amd||"object"==typeof exports&&"function"==typeof require||e(window)}(function(e){var t=function(e){this.instance=e};t.prototype.callback=function(e){if("function"==typeof e)e.apply(this);else if(e!==!1){var t=new Function("return "+e);t()}},t.prototype.getStringVariable=function(t){var n;if(t.indexOf(".")>-1){for(var i=t.split("."),r=e[i[0]],o=1;o<i.length;o++)r=r[i[o]];n=r}else n=e[t];return n},t.prototype.getClassname=function(e){return this.instance.ns.prefix+this.instance.ns.name+"-"+this.instance.ns.classes[e]},t.prototype.escapeSelector=function(e){var t="#"===e.charAt(0),n=/([ !"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~])/g;return t?"#"+e.substring(1).replace(n,"\\$1"):e},t.prototype.uxrException=function(e){this.name="UXRocket",this.slug="Generic",this.message=e,this.toString=function(){return this.name+" ("+this.slug+"): "+this.message}},t.prototype.position=function(e,t){var n=e.getBoundingClientRect(),i=n.top+n.height,r=n.left,o=n.width;return t.css({top:i,left:r,minWidth:o})},t.template={_expressions:{variable:/\{\{([a-zA-Z0-9_\.\-]+)\}\}/g,ifelse:/{{#if ([a-zA-Z0-9\.]+)([\!\=><]{1,2})?(("|')?([a-zA-Z0-9_"']+)("|')?)?}}([^]+?){{\/if}}/g,loop:/{{#each ([a-zA-Z0-9_\-]+)}}([^]+?){{\/each}}/g},_transform:function(e){return Array.isArray(e)?e:[e]},_matchAll:function(e,t){var n=[];return e.replace(t,function(){var e=[].slice.call(arguments,0),t=e.splice(-2);e.index=t[0],e.input=t[1],n.push(e)}),n.length?n:null},_conditional:function(e,t,n,i){var r=!1;return i||(i={}),i.hasOwnProperty(t)&&this._operator.hasOwnProperty(e)&&(r=this._operator[e](i[t],n)),r},_operator:{undefined:function(e){return e!==!1},"==":function(e,t){return e===t},"!=":function(e,t){return e!==t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"<":function(e,t){return t>e},"<=":function(e,t){return t>=e}},_replace:function(e,t,n){var n=n?n+".":"";return Object.keys(t).forEach(function(i){"object"!=typeof t[i]&&(e=e.replace(new RegExp("{{"+n+i+"}}","g"),t[i])+"\n")}),e},unmatched:function(e){return e.replace(this._expressions.variable)},conditions:function(e,t,n){var i=this,r=this._matchAll(e,this._expressions.ifelse);return r&&r.map(function(r){var o=r[7].split("{{#else}}"),s=r[1],a="";n&&(s=s.replace(n+".","")),i._conditional(r[2],s,r[5],t)?a=o[0]:"undefined"!=typeof o[1]&&(a=o[1]),e=e.replace(r[0],a)}),e},loops:function(e,t){var n=this,i=this._matchAll(e,this._expressions.loop);return i&&i.map(function(i){if(t.hasOwnProperty(i[1])){var r=n._transform(t[i[1]]),o="\n";r.map(function(e){var t=n._replace(i[2],e,i[1]);o+=n.conditions(t,e,i[1])}),e=e.replace(i[0],o)}}),e}},t.prototype.render=function(e,n){var i=e,r=t.template._transform(n);return r.map(function(e){i=t.template._replace(i,e)}),i=t.template.loops(i,n),i=t.template.conditions(i,n),i=t.template.unmatched(i)},t.version="0.1.0",e.uxrPluginUtils=t});